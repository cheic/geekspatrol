---
import { PRIMARY_NAV, SECONDARY_NAV, buildHref } from '../config/navigation';
---

<header class="sticky top-0 z-50 border-b border-slate-200 dark:border-slate-700 bg-white/90 dark:bg-slate-900/90 backdrop-blur">
  <div class="container mx-auto px-4">
    <div class="flex h-16 items-center justify-between gap-4">
      <!-- Logo -->
      <a href="/" class="text-xl font-bold text-indigo-600 dark:text-indigo-400">
        GeeksPatrol
      </a>

      <!-- Navigation desktop -->
      <nav class="hidden lg:flex items-center gap-6">
        {PRIMARY_NAV.map(item => (
          <a 
            href={buildHref(item)} 
            class="px-3 py-2 rounded-md text-sm font-medium transition-colors hover:text-indigo-600 dark:hover:text-indigo-300"
          >
            {item.label}
          </a>
        ))}
      </nav>

      <!-- Actions -->
      <div class="flex items-center gap-4">
        <!-- Theme toggle -->
        <button id="theme-toggle" class="p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-800">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>
</header>

<script>
  // Theme toggle functionality
  const themeToggle = document.getElementById('theme-toggle');
  const html = document.documentElement;
  
  themeToggle?.addEventListener('click', () => {
    const currentTheme = html.classList.contains('dark') ? 'dark' : 'light';
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
    
    html.classList.remove(currentTheme);
    html.classList.add(newTheme);
    localStorage.setItem('theme', newTheme);
  });
  
  // Load saved theme
  const savedTheme = localStorage.getItem('theme') || 'dark';
  html.classList.add(savedTheme);
</script>