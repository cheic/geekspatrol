---
// ThemeToggle.astro - Composant pour basculer entre les thèmes
---

<button
  data-theme-toggle
  class="p-2 rounded-lg text-indigo-600 dark:text-slate-400 hover:text-indigo-700 dark:hover:text-indigo-300 bg-slate-50 dark:bg-transparent hover:bg-slate-100 dark:hover:bg-slate-800 border border-indigo-200 dark:border-transparent transition-colors"
  aria-label="Basculer le thème"
>
  <!-- Sun icon (visible in dark mode) -->
  <i class="hidden dark:block fas fa-sun text-indigo-400"></i>
  <!-- Moon icon (visible in light mode) -->
  <i class="block dark:hidden fas fa-moon text-indigo-600"></i>
</button>

<script>
  // Theme toggle functionality
  const themeToggle = document.querySelector('[data-theme-toggle]');
  const html = document.documentElement;

  if (themeToggle) {
    themeToggle.addEventListener('click', () => {
      const currentTheme = html.classList.contains('dark') ? 'dark' : 'light';
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

      html.classList.remove(currentTheme);
      html.classList.add(newTheme);
      localStorage.setItem('theme', newTheme);
    });
  }

  // Load saved theme
  const savedTheme = localStorage.getItem('theme') || 'dark';
  html.classList.add(savedTheme);
</script>